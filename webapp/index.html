<!DOCTYPE html>
<html lang="es" data-bs-theme="light">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="shortcut icon" href="img/karel-up.svg" type="image/x-icon">

    <title>ReKarel</title>

    <link href="css/karel.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    
    <div id="throbber" class="position-fixed top-50 start-50 translate-middle bg-body p-2 rounded"  style="z-index: 4000;  display: none" role="status" id="loadingSpinner">  
        <h5 >Procesando</h5>      
        <hr>
        <div class="position-absolute start-50 translate-middle-x">
            <div class="spinner-border text-body">
                <span class="visually-hidden">Procesando...</span>
            </div>
        </div>
        <br>
        <br>
    </div>
    <div id="loadingModal" class="position-absolute w-100 h-100 bg-dark p-5" style="z-index: 4000;">
        <div class="text-center">
            <p class="h1 bg-light p-4">Cargando...</p>
        </div>
    </div>
    <div class="container-fluid h-100 p-0">
        <div class="d-flex flex-column w-100 h-100 m-0 p-0">
            <div id="Container" class="flex-grow-1 m-0 p-0">
                <div class="h-100 w-100 d-flex flex-column">
                    <nav class="navbar navbar-expand-lg navbar-dark bg-omega p-0">
    <div class="container">
        <a class="navbar-brand" href="#">ReKarel (αlpha)</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Mundo
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <li><a class="dropdown-item" href="#" id="newWorldBtn"><i class="bi bi-plus-square"></i>
                                Nuevo</a>
                        </li>
                        <li>
                            <button class="dropdown-item" data-bs-toggle="modal"
                                data-bs-target="#resizeWorldModal">
                                <i class="bi bi-bounding-box-circles"></i>
                                Cambiar tamaño del mundo
                            </button>
                        </li>
                        <li><a class="dropdown-item" id="openWorldInBtn" href="#"><i
                                    class="bi bi-file-earmark-image"></i> Abrir
                                mundo.in</a></li>
                        <li><a class="dropdown-item disabled" href="#" aria-disabled="true"><i
                                    class="bi bi-file-earmark-arrow-down"></i>
                                Importar MDO/KEC 
                                (Próximamente)
                            </a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <button class="dropdown-item" data-bs-toggle="modal"
                                data-bs-target="#downloadWorldModal">
                                <i class="bi bi-box-arrow-down"></i>
                                Descargar mundo
                            </button>
                        </li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownCodeLink"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Código
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownCodeLink">
                        <li>
                            <button id="newJavaCodeNavBtn" class="dropdown-item">
                                <i class="bi bi-file-earmark-plus"></i> Nuevo Java
                            </button>
                        </li>
                        <li>
                            <button id="newPascalCodeNavBtn" class="dropdown-item">
                                <i class="bi bi-file-earmark-plus"></i> Nuevo Pascal
                            </button>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="#" id ="openCodeBtn"><i class="bi bi-folder2-open"></i>
                                Abrir
                                código</a>
                        </li>
                        <li>
                            <button type="button" class="dropdown-item" data-bs-toggle="modal"
                                data-bs-target="#saveCodeModal">
                                <i class="bi bi-box-arrow-down"></i> Descargar
                                código
                            </button>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <button type="button" class="dropdown-item"  id="java2pascalBtn">
                                <i class="bi bi-file-ppt"></i> Convertir de Java a Pascal
                            </button>
                        </li>
                        <li>
                            <button type="button" class="dropdown-item"  id="pascal2javaBtn">
                                <i class="bi bi-filetype-java"></i> Convertir de Pascal a Java
                            </button>
                        </li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownOptionsLink"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Opciones
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownOptionsLink">
                        <li>
                            <button class="dropdown-item" type="button" data-bs-toggle="modal"
                                data-bs-target="#settingsModal">
                                <i class="bi bi-gear-fill"></i> Configuración
                            </button>
                        </li>
                        <li>
                            <button class="dropdown-item" type="button" data-bs-toggle="modal"
                                data-bs-target="#karelStyleModal">
                                <i class="bi bi-palette-fill"></i> Estilo Karel
                            </button>
                        </li>
                        <li>
                            <button class="dropdown-item" type="button" data-bs-toggle="modal"
                                data-bs-target="#randomBeepersModal">
                                <i class="bi bi-dice-6-fill"></i> Conf. de zumbadores aleatorios
                            </button>
                        </li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownHelp"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Ayuda
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownHelp">
                        <li>
                            <a class="dropdown-item" href="ayuda.html" target="_blank"><i
                                    class="bi bi-book"></i> Manual de trucos</a>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <a class="dropdown-item"
                                href="https://omegaup.com/course/IntroduccionaKarel/" target="_blank"><i
                                    class="bi bi-journal-text"></i> Curso Karel Java</a>
                        </li>
                        <li>
                            <a class="dropdown-item"
                                href="https://omegaup.com/course/omiags-curso-karel/" target="_blank"><i
                                    class="bi bi-journal-text"></i> Curso Karel Pascal</a>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li>
                            <button class="dropdown-item" type="button" data-bs-toggle="modal"
                                data-bs-target="#aboutModal">
                                <i class="bi bi-info-circle"></i>
                                Acerca de
                            </button>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
                    <div class="d-flex flex-column flex-grow-1 m-0 p-0" id="desktopView">
    <div class="border-bottom bg-body p-1">
    <div class="container-md">
        <div class="btn-toolbar m-1 gap-2">
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
                    title="Regresa el mundo a su estado original" id="desktopResetKarel">
                    <i class="bi bi-arrow-clockwise"></i>
                </button>
            </div>
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
                    title="Compila el programa" id="desktopCompileKarel">
                    <i class="bi bi-microsoft"></i>
                </button>
                <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
                    title="Ejecuta el programa" id="dekstopRunKarel">
                    <i class="bi bi-play-fill"></i>
                </button>
                <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
                    id="desktopStepProgram" title="Avanza un paso el programa, entra a funciones">
                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="16"
   height="16"
   fill="currentColor"
   class="bi bi-arrow-up"
   viewBox="0 0 16 16"
   version="1.1"
   id="svg1"
   sodipodi:docname="stepOn.svg"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="12.703125"
     inkscape:cx="-16.649446"
     inkscape:cy="10.587946"
     inkscape:window-width="1920"
     inkscape:window-height="1009"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1"
     showguides="false" />
  <ellipse
     id="path1"
     cx="8"
     cy="13.402349"
     style="stroke-width:0.143906"
     rx="1.7346686"
     ry="1.8133893" />
  <path
     sodipodi:type="star"
     id="path4"
     inkscape:flatsided="true"
     sodipodi:sides="3"
     sodipodi:cx="58.342834"
     sodipodi:cy="45.714062"
     sodipodi:r1="9.7740707"
     sodipodi:r2="4.8870354"
     sodipodi:arg1="1.5707963"
     sodipodi:arg2="2.6179939"
     inkscape:rounded="-3.469447e-18"
     inkscape:randomized="0"
     d="m 58.342835,55.488132 -8.464594,-14.661105 16.929187,-1e-6 z"
     inkscape:transform-center-y="0.90658753"
     transform="matrix(0.45367044,0,0,0.37101759,-18.468419,-10.447965)" />
  <rect
     style="fill-opacity:1;stroke-width:1.78885"
     id="rect1"
     width="2.8339484"
     height="4.9446492"
     x="6.5830259"
     y="0.28782281" />
</svg>

                </button>
                <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
                    id="desktopStepOverProgram" title="Avanza un paso el programa, se salta funciones">
                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="16"
   height="16"
   fill="currentColor"
   class="bi bi-arrow-up"
   viewBox="0 0 16 16"
   version="1.1"
   id="svg1"
   sodipodi:docname="stepOver.svg"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="6.3515625"
     inkscape:cx="-52.506765"
     inkscape:cy="15.193112"
     inkscape:window-width="1920"
     inkscape:window-height="1009"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1" />
  <ellipse
     id="path1"
     cx="8"
     cy="13.402349"
     style="stroke-width:0.143906"
     rx="1.7346686"
     ry="1.8133893" />
  <path
     sodipodi:type="star"
     id="path4"
     inkscape:flatsided="true"
     sodipodi:sides="3"
     sodipodi:cx="58.342834"
     sodipodi:cy="45.714062"
     sodipodi:r1="9.7740707"
     sodipodi:r2="4.8870354"
     sodipodi:arg1="1.5707963"
     sodipodi:arg2="2.6179939"
     inkscape:rounded="-3.469447e-18"
     inkscape:randomized="0"
     d="m 58.342835,55.488132 -8.464594,-14.661105 16.929187,-1e-6 z"
     transform="matrix(-0.38399458,0.24158855,0.19757426,0.31403577,26.567379,-21.190607)"
     inkscape:transform-center-x="0.96555151"
     inkscape:transform-center-y="-0.2551224" />
  <path
     style="stroke:none"
     d="M 1.102091,6.0688807 3.4243542,8.076261 c 0,0 2.469255,-3.9360396 4.290283,-3.9360396 1.5791823,0 3.5817958,2.9913899 3.5817958,2.9913899 l 2.597786,-1.8499384 c 0,0 -2.282903,-4.3690038 -6.3763838,-4.3690038 -3.1094711,0 -6.4157442,5.1562116 -6.4157442,5.1562116 z"
     id="path2"
     sodipodi:nodetypes="ccsccsc" />
</svg>

                </button>
                <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
                    id="desktopStepOutProgram" title="Ejecuta hasta salir de la función actual">
                    <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="16"
   height="16"
   fill="currentColor"
   class="bi bi-arrow-up"
   viewBox="0 0 16 16"
   version="1.1"
   id="svg1"
   sodipodi:docname="stepOff.svg"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="12.703125"
     inkscape:cx="-16.649446"
     inkscape:cy="10.587946"
     inkscape:window-width="1920"
     inkscape:window-height="1009"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1"
     showguides="false" />
  <ellipse
     id="path1"
     cx="8"
     cy="13.402349"
     style="stroke-width:0.143906"
     rx="1.7346686"
     ry="1.8133893" />
  <path
     sodipodi:type="star"
     id="path4"
     inkscape:flatsided="true"
     sodipodi:sides="3"
     sodipodi:cx="58.342834"
     sodipodi:cy="45.714062"
     sodipodi:r1="9.7740707"
     sodipodi:r2="4.8870354"
     sodipodi:arg1="1.5707963"
     sodipodi:arg2="2.6179939"
     inkscape:rounded="-3.469447e-18"
     inkscape:randomized="0"
     d="m 58.342835,55.488132 -8.464594,-14.661105 16.929187,-1e-6 z"
     inkscape:transform-center-y="-0.906588"
     transform="matrix(0.45367044,0,0,-0.37101759,-18.468419,20.874896)" />
  <rect
     style="fill-opacity:1;stroke-width:1.78885"
     id="rect1"
     width="2.8339484"
     height="4.9446492"
     x="6.5830259"
     y="-10.139109"
     transform="scale(1,-1)" />
</svg>

                </button>
                <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
                    title="Ver resultado" id="desktopFutureProgram">
                    <i class="bi bi-eye-fill"></i>
                </button>
            </div>

            <div class="input-group" role="group" aria-label="Basic example">
                <div class="input-group-text bg-body border-secondary ps-2 pe-2"
                    title="Tiempo de espera entre instrucción e instruccion en milisegundos">
                    <small class="d-none d-md-inline">
                        <label for="delayPanel" >Retraso (ms)</label>
                    </small>
                    <i class="bi bi-watch d-block d-md-none"></i>
                </div>
                <input type="number" id="delayPanel" class="form-control border-secondary" min="0"
                    value="300">
                <button type="button" class="btn btn-body p-1 ps-1 pe-1 border-secondary d-none d-sm-inline"
                    id="removeDelayBtn" title="Reducir el retraso en 50ms">
                    <i class="bi bi-dash"></i>
                </button>
                <button type="button" class="btn btn-body p-1 ps-1 pe-1 border-secondary d-none d-sm-inline"
                    id="addDelayBtn" title="Aumentar el retraso en 50ms">
                    <i class="bi bi-plus"></i>
                </button>
            </div>

            <div class="input-group" role="group" aria-label="Basic example">
                <div class="input-group-text bg-body border-secondary ps-2 pe-2"
                    title="Zumbadores en Karel">
                    <small class="d-none d-md-inline"><label for="beeperBag"> Mochila</label></small>                    
                    <i class="bi bi-backpack-fill d-block d-md-none"></i>
                </div>
                <div class="collapse collapse-horizontal show" id="beeperInputCollapse">
                    <input type="number" id="beeperBag" class="form-control border-secondary rounded-0"
                        aria-label="" min="0" value="0">
                </div>
                <button type="button" class="btn btn-body p-1 ps-3 pe-3 border-secondary"
                    id="infiniteBeepersBtn" title="Activar/desactivar zumbadores infinitos">
                    <i class="bi bi-infinity"></i>
                </button>
            </div>
            <!-- OLD FILAS AND COLUMNAS
            <div class="input-group" role="group" aria-label="Basic example">
                <div class="input-group-text bg-body border-secondary ps-2 pe-2"
                    title="Alto del mundo">
                    <small>Filas</small>
                </div>
                <input type="number" id="toolbarRows" class="form-control border-secondary" min="1"
                    value="100">
                <div class="input-group-text bg-body border-secondary ps-2 pe-2"
                    title="Ancho del mundo">
                    <small>Columnas</small>
                </div>
                <input type="number" id="toolbarCols" class="form-control border-secondary" min="1"
                    value="100">

            </div> -->
        </div>
    </div>
</div>
    <div class="position-relative flex-grow-1">
        <div class="splitter-container">

            <div class="split split-horizontal" id="splitter-left-pane">
    <div class="split content" id="splitter-left-top-pane">


    </div>
    <div class="split content tabbable flex-grow-1" id="splitter-left-bottom-pane">


        <!-- Only required for left/right tabs -->
        <div class="d-flex flex-column h-100 w-100" id="stateConsole">
            <ul class="nav nav-tabs bg-body" id="ExecData" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="consoleTab-tab"
                        data-bs-toggle="tab" data-bs-target="#consoleTab" type="button"
                        role="tab" aria-controls="consoleTab" aria-selected="true"
                        title="Ve mensajes de Karel">
                        <span class="badge rounded-pill bg-primary" id="consoleMessageCount">0</span>
                        Mensajes
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="pilaTab-tab" data-bs-toggle="tab"
                        data-bs-target="#pilaTab" type="button" role="tab"
                        aria-controls="pilaTab" aria-selected="false"
                        title="Revisa la pila de llamadas">
                        <i class="bi bi-stack"></i> Pila
                    </button>
                </li>
                <li class="nav-item ms-auto p-2">
                    <button class="btn p-1 btn-danger"
                        title="Quitar todos los mensajes de la consola"
                        id="desktopClearConsole">
                        <small>
                            <i class="bi bi-trash-fill"></i>
                        </small>
                    </button>
                </li>
            </ul>
            <div class="tab-content flex-grow-1 overflow-auto bg-body" id="ExecDataContent">
                <div class="tab-pane fade show active p-2 "
                    id="consoleTab" role="tabpanel" aria-labelledby="consoleTab-tab">
                    <div class="d-flex flex-column-reverse flex-grow-1 overflow-auto"
                        id="desktopConsole">
                        <div><span class="text-info ">¡Bienvenido!</span> 
                        </div>

                    </div>
                </div>
                <div class="tab-pane fade p-2" id="pilaTab" role="tabpanel"
                    aria-labelledby="pilaTab-tab">

                </div>
            </div>
        </div>
    </div>
</div>
            <div class="split split-horizontal" id="splitter-right-pane">
    <div class="w-100 h-100 d-flex flex-column position-relative" id="desktopWorldSlot">
        <div class="overflow-hidden flex-grow-1 flex-shrink-1 position-relative" id="worldPane">
            <div id="worldContainer" class="w-100 h-100 overflow-scroll"
                style="height: 0px;">
                <div id="waffleContainer" class="h-0 w-0">
                    <div class="box-select position-absolute" style="
                    top:10px;
                    left: 56px;" id="desktopBoxSelect">
                        <div class="position-absolute waffle-element waffle-sphere" name = "cursor"></div>
                        <div class="position-absolute waffle-border waffle-element"
                            name="left" style="
                        min-width: 0px;
                        min-height: 28px;
                        max-width: 0px;
                        max-height: 28px;
                        top: 0px;
                        left: 0px;
                        border-left-width: 2px;
                        "></div>
                        <div class="position-absolute waffle-border waffle-element"
                            name="top" style="
                        min-width: 28px;
                        min-height: 0px;
                        max-width: 28px;
                        max-height: 0px;
                        top: 0px;
                        left: 0px;
                        border-top-width: 2px;
                        "></div>
                        <div class="position-absolute waffle-border waffle-element"
                            name="bottom" style="
                        min-width: 28px;
                        min-height: 0px;
                        max-width: 28px;
                        max-height: 0px;
                        top: 28px;
                        left: 0px;
                        border-top-width: 2px;
                        "></div>
                        <div class="position-absolute waffle-border waffle-element"
                            name="right" style="
                        min-width: 0px;
                        min-height: 28px;
                        max-width: 0px;
                        max-height: 28px;
                        top: 0px;
                        left: 28px;
                        border-left-width: 2px;
                        "></div>
                    </div>
                </div>

                <canvas id="worldCanvas"
                    class="position-sticky top-0 start-0 world-canvas"
                    style="background: magenta;  touch-action: pan-x pan-y;"
                    tabindex="0"
                ></canvas>
                <div id="worldScrolledContainerVertical"
                    style="height:3000px;width:1px;"></div>
                <div id="worldScrolledContainerHorizontal"
                    style="height:1px;width:3000px;"></div>

            </div>
        </div>
        <div class="bg-body btn-toolbar d-flex p-2 gap-2 border-bottom flex-shrink-0">

    <div class="btn-group" role="group">
        <div class="btn-group" aria-labelledby="selectionMode" title="Cambiar el modo de selección">
            <a class="dropdown-toggle btn btn-body border-secondary" href="#"
                id="selectionMode" role="button"
                data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-mouse2" id="inputModeIndicator"></i>
            </a>
            <ul class="dropdown-menu"
                aria-labelledby="selectionMode">
                <li >
                    <p class="h6 ms-2 me-2">Modo de selección</p>
                </li>
                <li>
                    <button class="dropdown-item" id="dragSelectionMode" title="Recomendado para ratón">
                        <i class="bi bi-mouse2"></i> Arrastrar
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="alternateSelectionMode"  title="Recomendado para touch">
                        <i class="bi bi-hand-index-thumb"></i> Alternar
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <div class="btn-group dropup" title="Cambiar zumbadores">
        <div class="btn-group" aria-labelledby="beeperManipulationDesktop">
            <a class="dropdown-toggle btn btn-body border-secondary" href="#"
                id="beeperManipulationDesktop" role="button"
                data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-1-square-fill text-success"></i>
            </a>
            <ul class="dropdown-menu"
                aria-labelledby="beeperManipulationDesktop">
                <li>
                    <button class="dropdown-item" id="desktopAddBeeper">
                        <i class="bi bi-1-square-fill text-success"></i> Agregar
                        uno (E)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopDecrementBeeper">
                        <i class="bi bi-1-square-fill text-danger"></i> Quitar
                        uno (Q)
                    </button>
                </li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li>
                    <button class="dropdown-item" id="desktopSetAmmount"
                        data-bs-toggle="modal" data-bs-target="#ammountModal">
                        <i class="bi bi-123 text-info"></i> Elegir cantidad (C)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopSetInfinite">
                        <i class="bi bi-infinity text-warning"></i> Infinitos
                        (T)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopRemoveAll">
                        <i class="bi bi-slash-circle-fill text-danger"></i>
                        Quitar todos (0)
                    </button>
                </li>
                
                <li>
                    <button class="dropdown-item" id="desktopRandomBeeper">
                        <i class="bi bi-dice-6-fill text-primary"></i>
                        Aleatorio (R)
                    </button>
                </li>

            </ul>
        </div>
        <div class="btn-group dropup" aria-labelledby="orientationEditorDesktop"
            title="Situar a Karel">
            <a class="dropdown-toggle btn btn-body border-secondary" href="#"
                id="orientationEditorDesktop" role="button"
                data-bs-toggle="dropdown" aria-expanded="false">
                <!-- Karel-up.svg -->
                <i class="text-primary h-auto w-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16"
                        height="16" fill="currentColor" class="bi bi-arrow-up"
                        viewBox="0 0 16 16">
                        <path xmlns="http://www.w3.org/2000/svg"
                            fill-rule="evenodd"
                            d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
                    </svg>
                </i>
            </a>
            <ul class="dropdown-menu"
                aria-labelledby="orientationEditorDesktop">
                <li>
                    <button class="dropdown-item" id="desktopKarelNorth">
                        <!-- Karel-up.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
</svg>
                        </i>
                        Situar Karel al norte (G)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopKarelEast">
                        <!-- Karel-right.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 15.435547,8.0996093 c 0,0.00276 -6.2982655,-6.2505726 -6.2968753,-6.2519531 4.454e-4,-4.423e-4 -1.6e-4,2.2613062 0,4.0058593 H 0.5644532 v 4.4921875 h 8.5742185 c -1.6e-4,1.744553 4.454e-4,4.006301 0,4.005859 -0.00139,-0.0014 6.2968753,-6.2547138 6.2968753,-6.2519527 z" />
</svg>
                        </i>
                        Situar Karel al este (G)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopKarelSouth">
                        <!-- Karel-down.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 7.9999999,15.535156 c -0.00276,0 6.2505721,-6.2982655 6.2519531,-6.2968753 4.42e-4,4.454e-4 -2.261306,-1.6e-4 -4.005859,0 V 0.6640622 H 5.7539062 v 8.5742185 c -1.744553,-1.6e-4 -4.006301,4.454e-4 -4.005859,0 0.0014,-0.00139 6.2547138,6.2968753 6.2519527,6.2968753 z" />
</svg>
                        </i>
                        Situar Karel al sur (G)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopKarelWest">
                        <!-- Karel-left.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 0.5644532,8.0996089 c 0,-0.00276 6.2982655,6.2505721 6.2968753,6.2519531 -4.454e-4,4.42e-4 1.6e-4,-2.261306 0,-4.005859 H 15.435547 V 5.8535152 H 6.8613285 c 1.6e-4,-1.744553 -4.454e-4,-4.006301 0,-4.005859 0.00139,0.0014 -6.2968753,6.2547138 -6.2968753,6.2519527 z" />
</svg>
                        </i>
                        Situar Karel al oeste (G)
                    </button>
                </li>
            </ul>
        </div>
        <div class="btn-group" aria-labelledby="wallEditDesktop"
            title="Colocar paredes">
            <a class="dropdown-toggle btn btn-body border-secondary" href="#"
                id="wallEditDesktop" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                <i class="bi bi-border"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="wallEditDesktop">
                <li>
                    <button class="dropdown-item" id="desktopNorthWall">
                        <i class="bi bi-border-top"></i> Pared norte (W)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopEastWall">
                        <i class="bi bi-border-right"></i> Pared este (D)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopSouthWall">
                        <i class="bi bi-border-bottom"></i> Pared sur (S)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" class="dropdown-item"
                        id="desktopWestWall">
                        <i class="bi bi-border-left"></i> Pared oeste (A)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" class="dropdown-item"
                        id="desktopOuterWall">
                        <i class="bi bi-border-outer"></i> Rodear cuadrado (X)
                    </button>
                </li>

            </ul>
        </div>

    </div>
    <div class="btn-group" role="group">
        <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
            title="Ir al origen (1,1)" id="desktopGoHome">
            <i class="bi bi-house-door-fill"></i>
        </button>
        <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
            title="Ir a Karel" id="desktopGoKarel">
            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
</svg>
        </button>

        <button id="desktopGoSelection" type="button"
            class="btn btn-body p-1 ps-2 pe-2 border-secondary"
            title="Ir al cursor">
            <i class="bi bi-cursor-fill"></i>
        </button>
    </div>
    <!-- <div class="btn-group">
        <button class="btn border-secondary">
            <i class="bi bi-caret-left-fill"></i>
        </button>
        <button class="btn border-secondary">
            <i class="bi bi-caret-right-fill"></i>
        </button>
    </div>
    <div class="btn-group">
        <button class="btn border-secondary">
            <i class="bi bi-caret-up-fill"></i>
        </button>
        <button class="btn border-secondary">
            <i class="bi bi-caret-down-fill"></i>
        </button>
    </div> -->

    <div class="btn-group">
        <button class="btn btn-secondary" title="Reducir zoom" id="removeZoomBtn">
            <i class="bi bi-zoom-out"></i>
        </button>
        <button class="btn btn-secondary" title="Aumentar zoom" id="addZoomBtn">
            <i class="bi bi-zoom-in"></i>
        </button>
    </div>
    <div class="btn-group">
        <div class="btn-group" aria-labelledby="cellImportanceDesktop">
            <a class="dropdown-toggle btn btn-body border-secondary" href="#"
                id="cellImportanceDesktop" role="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                title="Determina si casillas son evaluadas y exportadas en la salida">
                <i class="bi bi-flag-fill"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="cellImportanceDesktop">
                <li>
                    <button class="dropdown-item" id="desktopEvaluateCell">
                        <i class="bi bi-flag-fill text-warning"></i> Evaluar
                        casilla (Z)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="desktopIgnoreCell">
                        <i class="bi bi-flag-fill text-secondary" ></i> Ignorar
                        casilla (V)
                    </button>
                </li>

            </ul>
        </div>
        <a class="btn btn-body border-secondary" href="#" id="evaluatorBtnDesktop"
                role="button" data-bs-toggle="modal" aria-expanded="false" data-bs-target="#evaluatorModal"
            title="Cambia las condiciones que Karel exporta al evaluador">
                <i class="bi bi-list-check"></i> <span class="d-none d-lg-inline">Evaluador</span>
        </a>
    </div>
    <div class="btn-group" role="group">
        <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
            title="Deshacer cambio" id="desktopUndo">
            <i class="bi bi-arrow-counterclockwise"></i>
        </button>
        <button type="button" class="btn btn-body p-1 ps-2 pe-2 border-secondary"
            title="Rehacer cambio" id="desktopRedo">
            <i class="bi bi-arrow-clockwise"></i>
        </button>
    </div>
</div>
    </div>
</div>


        </div>
    </div>
</div>
                    <div class="d-none d-flex flex-column flex-grow-1 m-0 p-0 position-relative" id="phoneView">    
    <div class="splitter-container d-flex">
        <div class="position-relative flex-grow-1 flex-shrink-1">
            <div class="splitter-container">
                <div id="mobileCodePanel" class="split split-vertical"></div>
                <div id="mobileWorldPanel" class="split split-vertical">
                    
                    
                    <div id="mobileWorldPane" class="w-100 h-100 d-flex flex-column position-relative">
                        <div class="d-flex position-relative right-0 top-0 w-100 bg-body-secondary flex-nowrap">
                            <div class="d-flex" role="group" aria-label="Basic example">
                                <div class="input-group-text bg-body border-secondary ps-2 pe-2 rounded-start rounded-0"
                                    title="Zumbadores en Karel">
                                    <small class="d-none d-md-inline"><label for="phoneBeeperBag"> Mochila</label></small>                    
                                    <i class="bi bi-backpack-fill d-block d-md-none"></i>
                                </div>
                                <div class="collapse collapse-horizontal show" id="beeperInputPhoneCollapse">
                                    <input type="number" id="phoneBeeperBag" class="form-control border-secondary rounded-0"
                                        aria-label="" min="0" value="0">
                                </div>
                                <button type="button" class="btn btn-body p-1 ps-3 pe-3 border-secondary rounded-end rounded-0"
                                    id="phoneInfiniteBeepersBtn" title="Activar/desactivar zumbadores infinitos">
                                    <i class="bi bi-infinity"></i>
                                </button>
                            </div>
                            
                            <div class="btn-group dropup  ms-auto">
                                <button type="button" class="btn dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-zoom-in"></i>
                                </button>
                                <ul class="dropdown-menu">
                                  <li>
                                    <input type="range" class="form-range" id="phoneZoom" min="0" max="11">
                                  </li>
                                </ul>
                              </div>
                        </div>
                    </div>
                </div>
                <div id="mobileStatePanel" class="split split-vertical"></div>
            </div>
        </div>  
        <div class="flex-grow-0 flex shrink-0 d-flex flex-column bg-body-secondary flex-nowrap ps-2 pt-2 pe-1 overflow-y-scroll">
    
    
    
    
    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" data-kl-state="execution">
        <button type="button" class="btn btn-danger p-1 pb-2 pt-2 border-secondary" title="Detiene la ejecución"
            id="phoneResetWorld">
            <i class="bi bi-stop-circle"></i>
        </button>
    </div>
    
    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" data-kl-state="code" data-kl-state2="world">
        <button type="button" class="btn btn-success p-1 pb-2 pt-2 border-secondary" title="Detiene la ejecución" 
            id="phoneExecMode">
            <i class="bi bi-play-circle"></i>
        </button>
    </div>
    
    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" data-kl-state="code">
        <button type="button" class="btn btn-body p-1 pb-2 pt-2 border-secondary" title="Compila el programa" 
            id="phoneCompileKarel">
            <i class="bi bi-microsoft"></i>
        </button>
    </div>



    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" id="phoneRunToolbar" data-kl-state="execution">
        <button type="button" class="btn btn-body pt-3 pb-3 p-2 border-secondary" title="Ejecuta el programa"
            id="phoneRunKarel">
            <i class="bi bi-play-fill"></i>
        </button>
        <button type="button" class="btn btn-body p-2 pt-3 pb-3 border-secondary" id="phoneStepProgram"
            title="Avanza un paso el programa, entra a funciones">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="16"
   height="16"
   fill="currentColor"
   class="bi bi-arrow-up"
   viewBox="0 0 16 16"
   version="1.1"
   id="svg1"
   sodipodi:docname="stepOn.svg"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="12.703125"
     inkscape:cx="-16.649446"
     inkscape:cy="10.587946"
     inkscape:window-width="1920"
     inkscape:window-height="1009"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1"
     showguides="false" />
  <ellipse
     id="path1"
     cx="8"
     cy="13.402349"
     style="stroke-width:0.143906"
     rx="1.7346686"
     ry="1.8133893" />
  <path
     sodipodi:type="star"
     id="path4"
     inkscape:flatsided="true"
     sodipodi:sides="3"
     sodipodi:cx="58.342834"
     sodipodi:cy="45.714062"
     sodipodi:r1="9.7740707"
     sodipodi:r2="4.8870354"
     sodipodi:arg1="1.5707963"
     sodipodi:arg2="2.6179939"
     inkscape:rounded="-3.469447e-18"
     inkscape:randomized="0"
     d="m 58.342835,55.488132 -8.464594,-14.661105 16.929187,-1e-6 z"
     inkscape:transform-center-y="0.90658753"
     transform="matrix(0.45367044,0,0,0.37101759,-18.468419,-10.447965)" />
  <rect
     style="fill-opacity:1;stroke-width:1.78885"
     id="rect1"
     width="2.8339484"
     height="4.9446492"
     x="6.5830259"
     y="0.28782281" />
</svg>

        </button>
        <button type="button" class="btn btn-body pt-3 pb-3 p-2 border-secondary" id="phoneStepOverProgram"
            title="Avanza un paso el programa, se salta funciones">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="16"
   height="16"
   fill="currentColor"
   class="bi bi-arrow-up"
   viewBox="0 0 16 16"
   version="1.1"
   id="svg1"
   sodipodi:docname="stepOver.svg"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="6.3515625"
     inkscape:cx="-52.506765"
     inkscape:cy="15.193112"
     inkscape:window-width="1920"
     inkscape:window-height="1009"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1" />
  <ellipse
     id="path1"
     cx="8"
     cy="13.402349"
     style="stroke-width:0.143906"
     rx="1.7346686"
     ry="1.8133893" />
  <path
     sodipodi:type="star"
     id="path4"
     inkscape:flatsided="true"
     sodipodi:sides="3"
     sodipodi:cx="58.342834"
     sodipodi:cy="45.714062"
     sodipodi:r1="9.7740707"
     sodipodi:r2="4.8870354"
     sodipodi:arg1="1.5707963"
     sodipodi:arg2="2.6179939"
     inkscape:rounded="-3.469447e-18"
     inkscape:randomized="0"
     d="m 58.342835,55.488132 -8.464594,-14.661105 16.929187,-1e-6 z"
     transform="matrix(-0.38399458,0.24158855,0.19757426,0.31403577,26.567379,-21.190607)"
     inkscape:transform-center-x="0.96555151"
     inkscape:transform-center-y="-0.2551224" />
  <path
     style="stroke:none"
     d="M 1.102091,6.0688807 3.4243542,8.076261 c 0,0 2.469255,-3.9360396 4.290283,-3.9360396 1.5791823,0 3.5817958,2.9913899 3.5817958,2.9913899 l 2.597786,-1.8499384 c 0,0 -2.282903,-4.3690038 -6.3763838,-4.3690038 -3.1094711,0 -6.4157442,5.1562116 -6.4157442,5.1562116 z"
     id="path2"
     sodipodi:nodetypes="ccsccsc" />
</svg>

        </button>
        <button type="button" class="btn btn-body p-2 pt-3 pb-3 border-secondary" id="phoneStepOutProgram"
            title="Ejecuta hasta salir de la función actual">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="16"
   height="16"
   fill="currentColor"
   class="bi bi-arrow-up"
   viewBox="0 0 16 16"
   version="1.1"
   id="svg1"
   sodipodi:docname="stepOff.svg"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <sodipodi:namedview
     id="namedview1"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="12.703125"
     inkscape:cx="-16.649446"
     inkscape:cy="10.587946"
     inkscape:window-width="1920"
     inkscape:window-height="1009"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg1"
     showguides="false" />
  <ellipse
     id="path1"
     cx="8"
     cy="13.402349"
     style="stroke-width:0.143906"
     rx="1.7346686"
     ry="1.8133893" />
  <path
     sodipodi:type="star"
     id="path4"
     inkscape:flatsided="true"
     sodipodi:sides="3"
     sodipodi:cx="58.342834"
     sodipodi:cy="45.714062"
     sodipodi:r1="9.7740707"
     sodipodi:r2="4.8870354"
     sodipodi:arg1="1.5707963"
     sodipodi:arg2="2.6179939"
     inkscape:rounded="-3.469447e-18"
     inkscape:randomized="0"
     d="m 58.342835,55.488132 -8.464594,-14.661105 16.929187,-1e-6 z"
     inkscape:transform-center-y="-0.906588"
     transform="matrix(0.45367044,0,0,-0.37101759,-18.468419,20.874896)" />
  <rect
     style="fill-opacity:1;stroke-width:1.78885"
     id="rect1"
     width="2.8339484"
     height="4.9446492"
     x="6.5830259"
     y="-10.139109"
     transform="scale(1,-1)" />
</svg>

        </button>
        <button type="button" class="btn btn-body p-2 pt-3 pb-3 border-secondary" title="Ver resultado"
            id="phoneFutureProgram">
            <i class="bi bi-eye-fill"></i>
        </button>
    </div>


    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" id="phoneDelayToolbar" data-kl-state="execution">
        <div class="btn-group dropstart">
        <button type="button" class="btn btn-body dropdown-toggle ps-0 pe-0 pb-2 pt-2 border-secondary" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-watch"></i>
          </button>
          <ul class="dropdown-menu p-1 position-fixed">
                <li>
                    <label for="delayPanel" ><small>Retraso (ms)</small></label>
                </li>
                <li>
                    <input type="number" id="phoneDelayPanel" class="form-control border-secondary" min="0"
                        value="300">
                </li>
          </ul>
        </div>
    </div>

    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" data-kl-state="world">
        <div class="btn-group dropstart" aria-labelledby="beeperManipulationPhone">
            <button type="button" class="btn btn-body dropdown-toggle ps-0 pe-0 pt-3 pb-3 border-secondary" 
            data-bs-toggle="dropdown" aria-expanded="false" id="beeperManipulationPhone">
                <i class="bi bi-1-square-fill text-success"></i>
            </button>
            <ul class="dropdown-menu position-fixed"
                aria-labelledby="beeperManipulationPhone">
                <li>
                    <button class="dropdown-item" id="phoneAddBeeper">
                        <i class="bi bi-1-square-fill text-success"></i> Agregar
                        uno (E)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneDecrementBeeper">
                        <i class="bi bi-1-square-fill text-danger"></i> Quitar
                        uno (Q)
                    </button>
                </li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li>
                    <button class="dropdown-item" id="phoneSetAmmount"
                        data-bs-toggle="modal" data-bs-target="#ammountModal">
                        <i class="bi bi-123 text-info"></i> Elegir cantidad (C)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneSetInfinite">
                        <i class="bi bi-infinity text-warning"></i> Infinitos
                        (T)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneRemoveAll">
                        <i class="bi bi-slash-circle-fill text-danger"></i>
                        Quitar todos (0)
                    </button>
                </li>
                
                <li>
                    <button class="dropdown-item" id="phoneRandomBeeper">
                        <i class="bi bi-dice-6-fill text-primary"></i>
                        Aleatorio (R)
                    </button>
                </li>

            </ul>
        </div>
        <div class="btn-group dropstart" aria-labelledby="orientationEditorPhone"
            title="Situar a Karel">
            <button type="button" class="btn btn-body dropdown-toggle ps-0 pe-0 pt-3 pb-3 border-secondary" 
            data-bs-toggle="dropdown" aria-expanded="false" id="orientationEditorPhone">
                <!-- Karel-up.svg -->
                <i class="text-primary h-auto w-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16"
                        height="16" fill="currentColor" class="bi bi-arrow-up"
                        viewBox="0 0 16 16">
                        <path xmlns="http://www.w3.org/2000/svg"
                            fill-rule="evenodd"
                            d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
                    </svg>
                </i>
            </button>
            <ul class="dropdown-menu position-fixed"
                aria-labelledby="orientationEditorPhone">
                <li>
                    <button class="dropdown-item" id="phoneKarelNorth">
                        <!-- Karel-up.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
</svg>
                        </i>
                        Situar Karel al norte (G)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneKarelEast">
                        <!-- Karel-right.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 15.435547,8.0996093 c 0,0.00276 -6.2982655,-6.2505726 -6.2968753,-6.2519531 4.454e-4,-4.423e-4 -1.6e-4,2.2613062 0,4.0058593 H 0.5644532 v 4.4921875 h 8.5742185 c -1.6e-4,1.744553 4.454e-4,4.006301 0,4.005859 -0.00139,-0.0014 6.2968753,-6.2547138 6.2968753,-6.2519527 z" />
</svg>
                        </i>
                        Situar Karel al este (G)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneKarelSouth">
                        <!-- Karel-down.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 7.9999999,15.535156 c -0.00276,0 6.2505721,-6.2982655 6.2519531,-6.2968753 4.42e-4,4.454e-4 -2.261306,-1.6e-4 -4.005859,0 V 0.6640622 H 5.7539062 v 8.5742185 c -1.744553,-1.6e-4 -4.006301,4.454e-4 -4.005859,0 0.0014,-0.00139 6.2547138,6.2968753 6.2519527,6.2968753 z" />
</svg>
                        </i>
                        Situar Karel al sur (G)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneKarelWest">
                        <!-- Karel-left.svg -->
                        <i class="text-primary h-auto w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 0.5644532,8.0996089 c 0,-0.00276 6.2982655,6.2505721 6.2968753,6.2519531 -4.454e-4,4.42e-4 1.6e-4,-2.261306 0,-4.005859 H 15.435547 V 5.8535152 H 6.8613285 c 1.6e-4,-1.744553 -4.454e-4,-4.006301 0,-4.005859 0.00139,0.0014 -6.2968753,6.2547138 -6.2968753,6.2519527 z" />
</svg>
                        </i>
                        Situar Karel al oeste (G)
                    </button>
                </li>
            </ul>
        </div>
        <div class="btn-group dropstart" aria-labelledby="wallEditPhone"
            title="Colocar paredes">
            <button type="button" class="btn btn-body dropdown-toggle ps-0 pe-0 pt-3 pb-3 border-secondary" 
            data-bs-toggle="dropdown" aria-expanded="false" id="wallEditPhone">
                <i class="bi bi-border"></i>
            </button>
            <ul class="dropdown-menu position-fixed" aria-labelledby="wallEditPhone">
                <li>
                    <button class="dropdown-item" id="phoneNorthWall">
                        <i class="bi bi-border-top"></i> Pared norte (W)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneEastWall">
                        <i class="bi bi-border-right"></i> Pared este (D)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" id="phoneSouthWall">
                        <i class="bi bi-border-bottom"></i> Pared sur (S)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" class="dropdown-item"
                        id="phoneWestWall">
                        <i class="bi bi-border-left"></i> Pared oeste (A)
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" class="dropdown-item"
                        id="phoneOuterWall">
                        <i class="bi bi-border-outer"></i> Rodear cuadrado (X)
                    </button>
                </li>

            </ul>
        </div>     
    </div>

    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" data-kl-state="world">
           
        <button type="button" class="btn btn-body pt-3 pb-3 p-2 border-secondary" title="Ir al origen (1,1)" id="phoneRepeat">            
            <i class="bi bi-repeat text-danger"></i>
        </button>
    </div>
    
    <div class="btn-group-vertical mb-2" role="group" aria-label="Vertical button group" id="phoneRunToolbar">
        <button type="button" class="btn btn-body pt-3 pb-3 p-2 border-secondary" title="Ir al origen (1,1)" id="phoneGoHome">
            <i class="bi bi-house-door-fill"></i>
        </button>
        <button type="button" class="btn btn-body pt-3 pb-3 p-2 border-secondary" title="Ir a Karel" id="phoneGoKarel">
            <svg xmlns="http://www.w3.org/2000/svg" width="16"
    height="16" fill="currentColor"
    class="bi bi-arrow-up" viewBox="0 0 16 16">
    <path xmlns="http://www.w3.org/2000/svg"
        fill-rule="evenodd"
        d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
</svg>
        </button>
        <button type="button" class="btn btn-body pt-3 pb-3 p-2 border-secondary" title="Ir al cursor"
            id="phoneGoSelection">
            <i class="bi bi-cursor-fill"></i>
        </button>

</div>
    </div>
</div>
                </div>
                <div id="contextMenuDiv" class="dropend position-absolute d-none d-md-block" style="top: 0px; left: 0px; width: 0px; height: 0px;">
    <button id="contextMenuToggler" type="button" class="p-0 m-0 h-0 w-0 position-absolute"
        data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside"
        style="visibility: hidden; overflow: hidden; max-width: 0px; max-height: 0px; z-index: -1">
        Menu contextual
    </button>
    <ul class=" dropdown-menu ">
        <li>
            <div class="dropend">
                <button type="button" class="dropdown-item dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <!-- Karel-up.svg -->
                    <i class="text-primary h-auto w-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-arrow-up" viewBox="0 0 16 16">
                            <path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"
                                d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
                        </svg>
                    </i>
                    Situar a Karel
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <button class="dropdown-item dropdown-item-action" id="contextKarelNorth">
                            <!-- Karel-up.svg -->
                            <i class="text-primary h-auto w-auto">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-arrow-up" viewBox="0 0 16 16">
                                    <path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"
                                        d="m 8,0.6640625 c 0.00276,0 -6.2505726,6.2982652 -6.2519531,6.296875 -4.423e-4,-4.454e-4 2.2613062,1.6e-4 4.0058593,0 V 15.535156 H 10.246094 V 6.9609375 c 1.744553,1.6e-4 4.006301,-4.454e-4 4.005859,0 C 14.250573,6.9623277 7.9972389,0.6640625 8,0.6640625 Z" />
                                </svg>
                            </i>
                            Situar Karel al norte
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item dropdown-item-action" id="contextKarelEast">
                            <!-- Karel-right.svg -->
                            <i class="text-primary h-auto w-auto">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-arrow-up" viewBox="0 0 16 16">
                                    <path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"
                                        d="m 15.435547,8.0996093 c 0,0.00276 -6.2982655,-6.2505726 -6.2968753,-6.2519531 4.454e-4,-4.423e-4 -1.6e-4,2.2613062 0,4.0058593 H 0.5644532 v 4.4921875 h 8.5742185 c -1.6e-4,1.744553 4.454e-4,4.006301 0,4.005859 -0.00139,-0.0014 6.2968753,-6.2547138 6.2968753,-6.2519527 z" />
                                </svg>
                            </i>
                            Situar Karel al este
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item dropdown-item-action" id="contextKarelSouth">
                            <!-- Karel-down.svg -->
                            <i class="text-primary h-auto w-auto">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-arrow-up" viewBox="0 0 16 16">
                                    <path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"
                                        d="m 7.9999999,15.535156 c -0.00276,0 6.2505721,-6.2982655 6.2519531,-6.2968753 4.42e-4,4.454e-4 -2.261306,-1.6e-4 -4.005859,0 V 0.6640622 H 5.7539062 v 8.5742185 c -1.744553,-1.6e-4 -4.006301,4.454e-4 -4.005859,0 0.0014,-0.00139 6.2547138,6.2968753 6.2519527,6.2968753 z" />
                                </svg>
                            </i>
                            Situar Karel al sur
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item dropdown-item-action" id="contextKarelWest">
                            <!-- Karel-left.svg -->
                            <i class="text-primary h-auto w-auto">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-arrow-up" viewBox="0 0 16 16">
                                    <path xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd"
                                        d="m 0.5644532,8.0996089 c 0,-0.00276 6.2982655,6.2505721 6.2968753,6.2519531 -4.454e-4,4.42e-4 1.6e-4,-2.261306 0,-4.005859 H 15.435547 V 5.8535152 H 6.8613285 c 1.6e-4,-1.744553 -4.454e-4,-4.006301 0,-4.005859 0.00139,0.0014 -6.2968753,6.2547138 -6.2968753,6.2519527 z" />
                                </svg>
                            </i>
                            Situar Karel al oeste
                        </button>
                    </li>
                </ul>
            </div>
        </li>
        <li>
            <div class="dropend">
                <button type="button" class="dropdown-item dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <i class="bi bi-1-square-fill text-success"></i>
                    Zumbadores
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <button class="dropdown-item" id="contextAddBeeper">
                            <i class="bi bi-1-square-fill text-success"></i> Agregar
                            uno
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextDecrementBeeper">
                            <i class="bi bi-1-square-fill text-danger"></i> Quitar
                            uno
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextSetAmmount" data-bs-toggle="modal"
                            data-bs-target="#ammountModal">
                            <i class="bi bi-123 text-info"></i> Elegir cantidad
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextSetInfinite">
                            <i class="bi bi-infinity text-warning"></i> Infinitos
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextRemoveAll">
                            <i class="bi bi-slash-circle-fill text-danger"></i>
                            Quitar todos
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextRandomBeeper">                            
                            <i class="bi bi-dice-6-fill text-primary"></i>
                            Aleatorios
                        </button>
                    </li>
                </ul>
            </div>
        </li>
        <li>
            <div class="dropend">
                <button type="button" class="dropdown-item dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <i class="bi bi-border"></i> Colocar paredes
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <button class="dropdown-item" id="contextNorthWall">
                            <i class="bi bi-border-top"></i> Pared norte
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextEasthWall">
                            <i class="bi bi-border-right"></i> Pared este
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextSouthWall">
                            <i class="bi bi-border-bottom"></i> Pared sur
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextWestWall">
                            <i class="bi bi-border-left"></i> Pared oeste
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextOuterWall">
                            <i class="bi bi-border-outer"></i> Rodear cuadrado
                        </button>
                    </li>
                </ul>
            </div>
        </li>
        <li>
            <hr class="dropdown-divider">
        </li>
        <li>
            <div class="dropend">
                <button type="button" class="dropdown-item dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    <i class="bi bi-flag-fill"></i> Evaluar casillas
                </button>

                <ul class="dropdown-menu" aria-labelledby="cellImportanceDesktop" data-popper-placement="top-start" style="position: absolute; inset: auto auto 0px 0px; margin: 0px; transform: translate3d(0px, -40px, 0px);">
                    <li>
                        <button class="dropdown-item" id="contextEvaluateCell">
                            <i class="bi bi-flag-fill text-warning"></i> Evaluar
                            casilla
                        </button>
                    </li>
                    <li>
                        <button class="dropdown-item" id="contextIgnoreCell">
                            <i class="bi bi-flag-fill text-secondary"></i> Ignorar
                            casilla
                        </button>
                    </li>

                </ul>
            </div>
        </li>

    </ul>
</div>
            </div>
            
            
        </div>
    </div>
    <div id="saveCodeModal" class="modal fade" tabindex="-1" aria-labelledby="saveCodeModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Descargar código</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Con cuál nombre quieres descargar el código (recomendado .kj y .kp) </p>
                <p id="wrongCodeName" class="text-danger" hidden><i class="bi bi-exclamation-diamond-fill"></i> El
                    archivo solo puede tener letras, números y puntos</p>
                <input type="text" name="codeName" id="codeName" value="" class="w-100">
            </div>
            <div class="modal-footer">
                <a href="#" class="btn btn-primary" id="downloadCodeBtn">Descargar</a>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Canelar</button>
            </div>
        </div>
    </div>

</div>
    <div id="confirmModal" class="modal fade" tabindex="-1" aria-labelledby="confirmModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="confirmModalTitle" class="modal-title">Nuevo código Java</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="confirmModalMessage">¿Estás seguro de querer continuar?</p>
            </div>
            <div class="modal-footer">
                <button id="confirmModalNo" type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                    data-bs-dialog="none">
                    Cancelar
                </button>
                <button id="confirmModalYes" class="btn btn-primary" data-bs-dismiss="modal" data-bs-dialog="none">
                    Sí
                </button>
            </div>
        </div>
    </div>
</div>
    <div id="downloadWorldModal" class="modal fade" tabindex="-1" aria-labelledby="downloadWorldModal"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Descargar mundo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="d-flex justify-content-around">

                        <button id="downloadWorldIn" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#saveWorldModal">
                            Descargar mundo.in
                        </button>
                        <button id="downloadWorldOut" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#saveWorldModal">
                            Descargar mundo.out
                        </button>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-dialog="none">
                        Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="resizeWorldModal" class="modal fade" tabindex="-1" aria-labelledby="resizeWorldModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Cambiar el tamaño del mundo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body row">
                <div class="input-group">
                    <div class="input-group-text bg-body-secondary border-secondary col-sm-12 col-md-4">Filas</div>
                    <input type="number"  min="1" max="1000" name="rowField" id="rowField" value="100" class="col-sm-12 col-md-8  form-control border-secondary">
                </div>
                <div class="input-group">
                    <div class="input-group-text bg-body-secondary border-secondary col-sm-12 col-md-4">Columnas</div>
                    <input type="number"  min="1" max="1000" name="columnField" id="columnField" value="100" class="col-sm-12 col-md-8 form-control border-secondary">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Canelar</button>
                <a href="#" class="btn btn-primary" id="resizeBtn" data-bs-dismiss="modal">Aplicar</a>
            </div>
        </div>
    </div>

</div>
    <div id="settingsModal" class="modal fade" tabindex="-1" aria-labelledby="settingsModal" aria-hidden="true">
    <form id="settingsForm">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Configuración</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container ">

                        <h5>General</h5>
                        <div class="row m-2">
                            <div class="col-sm-12 col-md-4 col-lg-3">
                                <label>Vista:</label>
                            </div>
                            <div class="col-sm-12 col-md-8 col-lg-6">
                                <select class="form-select" aria-label="Tipo de interfaz" name="interface" id="settingsInterface">
                                    <option value="auto">Automático (Responsivo)</option>
                                    <option value="desktop">Vista de escritorio</option>
                                    <option value="mobile">Vista de celular</option>
                                </select>
                            </div>
                        </div>
                        <div class="row m-2">
                            <div class="col-sm-12 col-md-4 col-lg-3">
                                <label>Tema:</label>
                            </div>
                            <div class="col-sm-12 col-md-8 col-lg-6">
                                <select class="form-select" aria-label="Tipo de interfaz" name="theme" id="settingsTheme">
                                    <option value="system">Usar tema del sistema</option>
                                    <option value="light">Tema claro</option>
                                    <option value="dark">Tema oscuro</option>
                                </select>
                            </div>
                        </div>
                        <h5>Editor del código</h5>
                        <div class="row m-2">
                            <div class="col-sm-12 col-md-4 col-lg-3">
                                <label>Tamaño de fuente:</label>
                            </div>
                            <div class="col-sm-12 col-md-8 col-lg-6">
                                <div class="input-group mb-3">
                                    <input type="number" class="form-control" placeholder="12 pts..."
                                        aria-label="Username" aria-describedby="basic-addon1" name="fontSize"
                                        min="7" max="30" value="12" id="settingsFontSize">
                                    <span class="input-group-text" id="basic-addon1">pt</span>
                                </div>
                            </div>
                        </div>
                        <div class="row m-2">
                            <div class="col-sm-12 col-md-4 col-lg-3">
                                <label>Estilo:</label>
                            </div>
                            <div class="col-sm-12 col-md-8 col-lg-6">
                                <select class="form-select" aria-label="Tipo de interfaz" name="editorStyle" id="settingsStyle">
                                    <option value="classic">Karel.js</option>
                                    <option value="rekarel">ReKarel</option>
                                    <option value="sepia">Sepia</option>
                                    <option value="omi">Omi Karel</option>
                                    <option value="code">Code</option>
                                </select>
                            </div>
                        </div>
                        <h5>Editor del mundo</h5>
                        <div class="row m-2">
                            <div class="col-sm-12 col-md-4 col-lg-3">
                                <label title="Cambiar el modo cuando se detecte una entrada táctil">Cambiar automáticamente el modo de selección:</label>
                            </div>
                            <div class="col-sm-12 col-md-8 col-lg-6">
                                <div class="input-group mb-3">
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="settingsAutoInputMode">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h5>Ejecución</h5>
                        <div class="row m-2">
                            <div class="col-sm-12 col-md-4 col-lg-3">
                                <label>Límite de instrucciones en modo normal:</label>
                            </div>
                            <div class="col-sm-12 col-md-8 col-lg-6">
                                <div class="input-group mb-3">
                                    <input type="number" class="form-control" placeholder="12 pts..."
                                        aria-label="Username" aria-describedby="basic-addon1" name="fontSize"
                                        min="1" value="200000" id="settingsSlowModeLimit">
                                </div>
                            </div>
                            <p id="slowModeWarning" class="text-warning"><i class="bi bi-exclamation-diamond-fill"></i> Poner un número muy grande hará que la aplicación se pueda congelar por mucho tiempo durante un paso.</p>
                        </div>
                        
                    </div>
                </div>
                <div class="modal-footer">

                    <button type="submit" class="btn btn-warning">
                        Aplicar
                    </button>
                    <button type="submit" class="btn btn-primary" data-bs-dismiss="modal" data-bs-dialog="none">
                        Aceptar
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-dialog="none">
                        Cancelar
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
    <div id="aboutModal" class="modal fade" tabindex="-1" aria-labelledby="aboutModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Acerca de</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>ReKarel es una implementación de Karel el robot en javascript basada en <a
                        href="https://omegaup.com/karel.js/#">Karel.js</a> de omegaup.</p>

                <p>Versión Alpha 1.14.2</p>

                <h5>Autores ReKarel</h5>
                <ul>
                    <li>ReKarel: Kishtarn (Héctor Ricárdez)</li>
                </ul>
                <h5>Autores Karel.js</h5>
                <p>Programadores de la versión original sobre la cual ReKarel se encuentra construida.</p>
                <ul>
                    <li>alanboy</li>
                    <li>joemmanuel</li>
                    <li>lhchavez</li>
                    <li>Categulario</li>
                    <li>Pacha</li>
                </ul>
                <div class="alert alert-warning mt-2" role="alert">
                    <p>Early-access, ReKarel tiene muchos bugs, características faltantes y no todas las características actuales están garantizado que estará en la versión final.</p>
                </div>
                <hr>
                <a href="https://github.com/kishtarn555/ReKarel"><i class="bi bi-github"></i>
                    Código fuente (Github)
                </a>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-dialog="none">
                    Cerrar
                </button>
            </div>
        </div>
    </div>
</div>
    <div id="ammountModal" class="modal fade" tabindex="-1" aria-labelledby="ammountModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Colocar cantidad de zumbadores</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <p>Elige la cantidad de zumbadores a colocar:</p>
                    <input type="number" name="beeperCount" id="beeperCountInput" class="form-control"
                        placeholder="Zumbadores" min="0">
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-dialog="none">
                    Cancelar
                </button>

                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" data-bs-dialog="none"
                    id="btnSetAmount">
                    Colocar
                </button>
            </div>
        </div>
    </div>
</div>
    <div id="saveWorldModal" class="modal fade" tabindex="-1" aria-labelledby="saveWorldModal" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Guardar Mundo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <textarea id="worldData" class="form-control" rows="10" readonly></textarea>
                <p id="wrongWorldName" class="text-danger" hidden><i class="bi bi-exclamation-diamond-fill"></i> El
                    mombre del archivo solo puede tener letras, números y puntos</p>
                <input type="text" name="worldName" id="worldName" value="world.in" class="w-100 mt-2">
            </div>
            <div class="modal-footer">                
                <a type="button" class="btn btn-primary" id="saveWorldBtn">Guardar</a>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            </div>
        </div>
    </div>
</div>
    <div id="karelStyleModal" class="modal fade" tabindex="-1" aria-labelledby="ammountModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Estilo del mundo de Karel</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <h3>Estilos predefinidos</h3>
                        <div class="row">
                            <div class="col">

                                <select class="form-select" id="karelStylePreset">
                                    <option value="current">- Estilo actual-</option>
                                    <option value="default">Por defecto</option>
                                    <option value="clean">Clean</option>
                                    <option value="dark">Oscuro</option>
                                    <option value="contrast">Contraste</option>
                                </select>
                            </div>
                            <div class="col">
                                <a href="#" class="btn btn-info" id="karelStyleLoadPresetBtn">Cargar</a>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <h3><label for="karelStyleJSON">Importar/exportar estilos</label></h3>
                        <div class="row me-2 ms-2">
                        <input type="text" name="form-control" id="karelStyleJSON">
                        </div>
                        <div class="row p-2">
                            <div class="input-group">
                                <a href="#" class="btn btn-info" id="karelStyleImport">Importar</a>
                                <a href="#" class="btn btn-danger" id="karelStyleExport">Exportar</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <h3>Editar el Estilo</h3>
                    </div>
                    <div class="mb-3">
                        <label for="disabledColor" class="form-label">Disabled Color</label>
                        <input type="color" id="disabledColor" class="form-control color-input" value="#4f4f4f">
                    </div>
                    <div class="mb-3">
                        <label for="exportCellBackgroundColor" class="form-label">Export Cell Background Color</label>
                        <input type="color" id="exportCellBackgroundColor" class="form-control color-input" value="#f5f7a8">
                    </div>
                    <div class="mb-3">
                        <label for="karelColor" class="form-label">Karel Color</label>
                        <input type="color" id="karelColor" class="form-control color-input" value="#3E6AC1">
                    </div>
                    <div class="mb-3">
                        <label for="gridBackgroundColor" class="form-label">Grid Background Color</label>
                        <input type="color" id="gridBackgroundColor" class="form-control color-input" value="#f8f9fA">
                    </div>
                    <div class="mb-3">
                        <label for="errorGridBackgroundColor" class="form-label">Error Grid Background Color</label>
                        <input type="color" id="errorGridBackgroundColor" class="form-control color-input" value="#f5d5d5">
                    </div>
                    <div class="mb-3">
                        <label for="gridBorderColor" class="form-label">Grid Border Color</label>
                        <input type="color" id="gridBorderColor" class="form-control color-input" value="#c4c4c4">
                    </div>
                    <div class="mb-3">
                        <label for="errorGridBorderColor" class="form-label">Error Grid Border Color</label>
                        <input type="color" id="errorGridBorderColor" class="form-control color-input" value="#a8838f">
                    </div>
                    <div class="mb-3">
                        <label for="gutterBackgroundColor" class="form-label">Gutter Background Color</label>
                        <input type="color" id="gutterBackgroundColor" class="form-control color-input" value="#e6e6e6">
                    </div>
                    <div class="mb-3">
                        <label for="gutterColor" class="form-label">Gutter Color</label>
                        <input type="color" id="gutterColor" class="form-control color-input" value="#444444">
                    </div>
                    <div class="mb-3">
                        <label for="gutterSelectionBackgroundColor" class="form-label">Gutter Selected Background Color</label>
                        <input type="color" id="gutterSelectionBackgroundColor" class="form-control color-input" value="#e6e6e6">
                    </div>
                    <div class="mb-3">
                        <label for="gutterSelectionColor" class="form-label">Gutter Selected Color</label>
                        <input type="color" id="gutterSelectionColor" class="form-control color-input" value="#444444">
                    </div>
                    <div class="mb-3">
                        <label for="beeperBackgroundColor" class="form-label">Beeper Background Color</label>
                        <input type="color" id="beeperBackgroundColor" class="form-control color-input" value="#0ADB23">
                    </div>
                    <div class="mb-3">
                        <label for="beeperColor" class="form-label">Beeper Color</label>
                        <input type="color" id="beeperColor" class="form-control color-input" value="#000000">
                    </div>
                    <div class="mb-3">
                        <label for="wallColor" class="form-label">Wall Color</label>
                        <input type="color" id="wallColor" class="form-control color-input" value="#000000">
                    </div>
                    <div class="mb-3">
                        <label for="waffleColor" class="form-label">Selection Color</label>
                        <input type="color" id="waffleColor" class="form-control color-input" value="#000000">
                    </div>
                </form>

                
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-dialog="none">
                    Cancelar
                </button>

                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" data-bs-dialog="none"
                    id="setKarelStyleBtn">
                    Aceptar
                </button>
            </div>
        </div>
    </div>
</div>
    <div id="evaluatorModal" class="modal fade" tabindex="-1" aria-labelledby="evaluatorModal" aria-hidden="true">
    <form id="evaluatorForm">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Evaluador</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container ">

                        <h5>Despliega</h5>
                        <P>Representa que condiciones Karel evalúa al final de su ejecución, como queden los siguientes estados es importante para la solución.</P>
                        <div class="row m-2">
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="evaluatePosition">
                                <label class="form-check-label" for="evaluatePosition">Posición final</label>
                            </div>
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="evaluateOrientation">
                                <label class="form-check-label" for="evaluateOrientation">Orientación final</label>
                            </div>
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="evaluateBag">
                                <label class="form-check-label" for="evaluateBag">Mochila final</label>
                            </div>
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="evaluateUniverse">
                                <label class="form-check-label" for="evaluateUniverse">Zumbadores del mundo final</label>
                            </div>
                        </div>
                        
                        <h5>Contar instrucciones</h5>
                        <P>La cantidad de instrucciones ejecutadas es importante para la solución final.</P>
                        
                        <div class="row m-2">
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="countMoves">
                                <label class="form-check-label" for="countMoves">Avanza (move)</label>
                            </div>
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="countTurns">
                                <label class="form-check-label" for="countTurns">Gira izquierda (turnleft)</label>
                            </div>
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="countPicks">
                                <label class="form-check-label" for="countPicks">Coge zumbador (pickbeeper)</label>
                            </div>
                            <div class="form-check form-switch col">
                                <input class="form-check-input" type="checkbox" id="countPuts">
                                <label class="form-check-label" for="countPuts">Deja zumbador (putbeeper)</label>
                            </div>
                        </div>
                        <button class="btn btn-secondary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#evaluatorAdvanced" aria-expanded="false" aria-controls="evaluatorAdvanced">
                            Mostrar/Ocultar opciones avanzadas
                        </button>
                        <div class="collapse m-0 p-0" id="evaluatorAdvanced">
                            <h5>Límites de ejecución</h5>
                            <P>Determina los límites de la ejecución</P>
                            
                            <div class="row m-2">
                                <div class="col border rounded p-0 ms-1 me-1">
                                    <div>
                                        <label class="bg-body-secondary p-1 w-100" for="maxInstructions">Número máximo de instrucciones</label>
                                    </div>
                                    <div>
                                        <input class="w-100 bg-body form-control border border-0" type="number" id="maxInstructions" min="1">
                                    </div>
                                </div>                     
                                
                                <div class="col border rounded p-0 ms-1 me-1">
                                    <div>
                                        <label class="bg-body-secondary p-1 w-100" for="maxStack">Tamaño máximo de la pila</label>
                                    </div>
                                    <div>
                                        <input class="w-100 bg-body form-control border border-0" type="number" id="maxStack" min="1">
                                    </div>
                                </div>
                                
                            </div>
                            <p class="ms-2 ps-1">Para los siguientes, -1 significa infinito </p>
                            <div class="row m-2">
                                <div class="col border rounded p-0 ms-1 me-1">
                                    <div>
                                        <label class="bg-body-secondary p-1 w-100" for="maxMove">Número máximo de avanza (move)</label>
                                    </div>
                                    <div>
                                        <input class="w-100 bg-body form-control border border-0" type="number" id="maxMove" min="-1">
                                    </div>
                                </div>   
                                <div class="col border rounded p-0 ms-1 me-1">
                                    <div>
                                        <label class="bg-body-secondary p-1 w-100" for="maxTurnLeft">Número máximo de gira-izquierda (turnleft)</label>
                                    </div>
                                    <div>
                                        <input class="w-100 bg-body form-control border border-0" type="number" id="maxTurnLeft" min="-1">
                                    </div>
                                </div>   
                            </div>

                            
                            <div class="row m-2">
                                <div class="col border rounded p-0 ms-1 me-1">
                                    <div>
                                        <label class="bg-body-secondary p-1 w-100" for="maxPickBuzzer">Número máximo de coge-zumbador (pickbeeper)</label>
                                    </div>
                                    <div>
                                        <input class="w-100 bg-body form-control border border-0" type="number" id="maxPickBuzzer" min="-1">
                                    </div>
                                </div>   
                                <div class="col border rounded p-0 ms-1 me-1">
                                    <div>
                                        <label class="bg-body-secondary p-1 w-100" for="maxLeaveBuzzer">Número máximo de deja-zumbador (putbeeper)</label>
                                    </div>
                                    <div>
                                        <input class="w-100 bg-body form-control border border-0" type="number" id="maxLeaveBuzzer" min="-1">
                                    </div>
                                </div>   
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">

                    <button type="submit" class="btn btn-primary" data-bs-dismiss="modal" data-bs-dialog="none">
                        Aceptar
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-dialog="none">
                        Cancelar
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
    <div id="randomBeepersModal" class="modal fade" tabindex="-1" aria-labelledby="randomBeepersModal" aria-hidden="true">
    <form id="randomBeepersForm">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Rango de zumbadores aleatorios</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container ">
                        <p>El rango es inclusivo, es decir, genera el mínimo y maximo</p>

                        <div class="row m-2">
                            <div class="col border rounded p-0 ms-1 me-1">
                                <div>
                                    <label class="bg-body-secondary p-1 w-100" for="minimumRandomBeepers">Mínimo de zumbadores</label>
                                </div>
                                <div>
                                    <input class="w-100 bg-body form-control border border-0" type="number"
                                        id="minimumRandomBeepers" min="0">
                                </div>
                            </div>

                            
                            <div class="col border rounded p-0 ms-1 me-1">
                                <div>
                                    <label class="bg-body-secondary p-1 w-100" for="maximumRandomBeepers">Máximo de zumbadores</label>
                                </div>
                                <div>
                                    <input class="w-100 bg-body form-control border border-0" type="number"
                                        id="maximumRandomBeepers" min="0">
                                </div>
                            </div>

                        </div>
                        

                    </div>
                </div>
                <div class="modal-footer">

                    <button type="submit" class="btn btn-primary" data-bs-dismiss="modal" data-bs-dialog="none">
                        Aceptar
                    </button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-dialog="none">
                        Cancelar
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
    
    
    <!-- SCRIPTS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


    <!-- <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script> -->
    <script src="js/cindex.js"></script>
    <!-- <script src="js/editor.bundle.js"></script> -->

</body>

</html>